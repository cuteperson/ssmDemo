<!DOCTYPE html>
<!-- saved from url=(0074)http://scu.co.cnki.net/Student/SubmitOpenReport.html?r=0.15983429963175677 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>提交开题报告-- 学生角色</title>
    <link rel="stylesheet" href="./base(3).css">
    <link rel="stylesheet" href="./common.css">
    <link rel="stylesheet" href="./easyui(3).css">
    <link rel="stylesheet" href="./default.css">
    <link rel="stylesheet" href="./rangyStyle.css">
    <link rel="stylesheet" href="./webuploader(1).css">

    <script type="text/javascript" src="./jquery.min.js(3).download"></script>
    <script type="text/javascript" src="./jquery.cookie.js(3).download"></script>
    <script type="text/javascript" src="./jquery.extend.js(3).download"></script>
    <script type="text/javascript" src="./jquery.easyui.min.js(3).download"></script>
    <script type="text/javascript" src="./common.js(3).download"></script>
    <script type="text/javascript" src="./constant.js(3).download"></script>
    <script type="text/javascript" src="./swfupload.js(1).download"></script>
    <script type="text/javascript" src="./swfupload.queue.js(1).download"></script>
    <script type="text/javascript" src="./kindeditor.js.download"></script>
    <script type="text/javascript" src="./zh_CN.js.download"></script>
    <script type="text/javascript" src="./rangy-core.js.download"></script>
    <script type="text/javascript" src="./rangy-classapplier.js.download"></script>
    <script type="text/javascript" src="./rangy-serializer.js.download"></script>
    <script type="text/javascript" src="./rangy-highlighter.js.download"></script>
    <script type="text/javascript" src="./rangyHelper.js.download"></script>
    <script type="text/javascript" src="./DesignTable.js.download"></script>
    <script type="text/javascript" src="./audit.js(1).download"></script>
    <script type="text/javascript" src="./JSEncrypt.js(3).download"></script>
    <!--[if lt IE 9]>
        <script type="text/javascript" src="../Scripts/json2.js?r=2019051313351225"></script>
    <![endif]-->
    <script type="text/javascript" src="./webuploader.nolog.js(1).download"></script>
    <script type="text/javascript" src="./webuploader.handler.js(1).download"></script>

</head>
<body>
    <div id="nochoiceDiv" class="gxf_tips" style="display:none; margin-bottom:15px;">
        <div class="gxf_tip">
            <i></i>信息提示
        </div>
        <div>
            <p>您还没有申报课题，或者选择的课题未被审核通过，您现在不能提交。</p>
        </div>
    </div>
    <!-- 时间限制提示 -->
    <div id="timeLimit" class="gxf_tips" style="display:none;">
        <div class="gxf_tip">
            <i></i>信息提示
        </div>
        <div>
            <p style="margin-top: 10px; font-size:14px;" id="timeText"></p>
        </div>
    </div>
    <!-- 课题基本信息 -->
    <div class="main" id="choiceDiv" style="">
        <div class="gxf_problem gxf_pro_top" id="historyDiv" style="">
            <div class="active"><h2><span class="sanjiao_active"></span>开题报告</h2></div>
            <div class="gxf_pro_content ">
                <span>最新提交时间：<span id="zxtjsj">2018/12/20 21:40:02</span></span>
                <span><a href="http://scu.co.cnki.net/Student/SubmitOpenReport.html?r=0.15983429963175677#CheckDetail" class="listA">查看审核详情</a></span>
                <span><a id="distorylink" class="listA" style="" href="javascript:openframe(&#39;开题报告历史纪录&#39;, &#39;../Student/StuHistoryFile.html?projectId=null&amp;sid=null&amp;opeType=1&#39;,false)">查看历史记录</a></span>
                <!--<span>课题计划完成的起止时间：<span id="ktqzsj"></span></span>-->
            </div>
        </div>
        <!-- 课题基本信息 -->
        <div id="gxf-project-information"><div class="gxf_problem gxf_problem_detail"><div><h2><span></span>课题基本信息</h2></div><div class="gxf_pro_content gxf_content_table"><ul class="clearfix gxf_project_detadil_ul"><li style="width:100%;"><span class="detadil_txt_left"> 课题题目：</span><span style="width:600px;" class="detadil_txt_right" title="条件生成对抗网络在少数类有效数据生成中的研究与应用">条件生成对抗网络在少数类有效数据生成中的研究与应用</span></li><li><span class="detadil_txt_left"> 可选专业：</span><span class="detadil_txt_right" title="软件工程">软件工程</span></li><li><span class="detadil_txt_left"> 课题申报时间：</span><span class="detadil_txt_right">2018-12-11</span></li><li><span class="detadil_txt_left"> 题目类型：</span><span class="detadil_txt_right">理论研究</span></li><li><span class="detadil_txt_left"> 题目来源：</span><span class="detadil_txt_right" title="教师科研纵向课题">教师科研纵向课题</span></li><li><span class="detadil_txt_left"> 选择模式：</span><span class="detadil_txt_right">学生提交课题</span></li><li><span class="detadil_txt_left"> 课题所属专业：</span><span class="detadil_txt_right">软件学院-软件工程</span></li><li><span class="detadil_txt_left"> 指导教师：</span><span class="detadil_txt_right" title="段磊（20092049）">段磊（20092049）</span></li><li><span class="detadil_txt_left"> 教师职称：</span><span class="detadil_txt_right">教授</span></li><li><span class="detadil_txt_left"> 导师联系邮箱：</span><span class="detadil_txt_right"></span></li><li><span class="detadil_txt_left"> 学生姓名：</span><span class="detadil_txt_right" title="王启帆（2015141463170）">王启帆（2015141463170）</span></li><li><span class="detadil_txt_left"> 学生院系专业：</span><span class="detadil_txt_right">软件学院-软件工程</span></li></ul></div></div></div>

        <!-- 详情 -->
        <div id="openReportDetail" style="">
            <div class=" gxf_problem gxf_problem_title">
                <div><h2 style="display: inline-block;"><span></span>内容详情</h2></div>
                <div class="gxf_designTable_content">
                    <!-- 无自定义时详情 -->
                    <!--<ul class="gxf_designTable_box" id="noDesignTable" style="display:none;">
                        <li>
                            <p>课题研究的目的和意义<span id="mudi-test" class="margl" style="font-size: 12px;"> </span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <div class="gxf_designTable_rangy clearfix">
                                <div id="left_mudi" class="gxf_rangy_left"></div>
                                <ul id="right_left_mudi" class="gxf_rangy_right"></ul>
                            </div>
                        </li>
                        <li>
                            <p>课题研究方案和主要内容<span id="fangan-test" class="margl" style="font-size: 12px;"> </span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <div class="gxf_designTable_rangy clearfix">
                                <div id="left_fangan" class="gxf_rangy_left"></div>
                                <ul id="right_left_fangan" class="gxf_rangy_right"></ul>
                            </div>
                        </li>
                        <li>
                            <p>研究方法及技术途径<span id="fangfa-test" class="margl" style="font-size: 12px;"> </span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <div class="gxf_designTable_rangy clearfix">
                                <div id="left_fangfa" class="gxf_rangy_left"></div>
                                <ul id="right_left_fangfa" class="gxf_rangy_right"></ul>
                            </div>
                        </li>
                        <li>
                            <p>实施计划<span id="jihua-test" class="margl" style="font-size: 12px;"> </span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <div class="gxf_designTable_rangy clearfix">
                                <div id="left_jihua" class="gxf_rangy_left"></div>
                                <div id="">
                                    <div></div>
                                    <ul id="right_left_jihua" class="gxf_rangy_right"></ul>
                                </div>
                            </div>
                        </li>
                    </ul>-->
                    <!-- 有自定义时详情 -->
                    <ul class="gxf_designTable_box" id="DesignTable"><li><p>选题意义<span class="writerText margl"> 共输入<i style="color: #f00;">447</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_xtyy" tablemodelid="6" class="gxf_rangy_left"><p><span>人工智能的热潮近年来,&nbsp;随着计算能力的提高和各行业数据量的剧增,&nbsp;人工智能取得了快速发展,&nbsp;使得研究者对人工智能的关注度和社会大众对人工智能的憧憬空前提升。学术界普遍认为人工智能分为两个阶段：感知阶段和认知阶段。认知阶段中的理解环节无论对人类还是人工智能都是内在的表现，无法直接测量，只能间接从其他方面推测。GAN作为典型的生成式模型，其生成器具有生成数据样本的能力。这种能力在一定程度上反映了它对事物的理解。因此，GAN有望加深人工智能的理解层面的研究。</span></p><p><span>GAN&nbsp;的核心思想来源于博弈论的纳什均衡。它设定参与游戏双方分别为一个生成器和一个判别器，生成器的目的是尽量去学习真实的数据分布，而判别器的目的是尽量正确判别输入数据是来自真实数据还是来自生成器；为了取得游戏胜利，这两个游戏参与者需要不断优化，各自提高自己的生成能力和判别能力，这个学习优化过程就是寻找二者之间的一个纳什均衡。生成对抗网络的条件版本用于近似真实数据分布并为少数类别的各种不平衡数据集生成数据，可以为许多领域的研究增加可使用的样本。</span></p></div><div id="right_box_left_xtyy" class="gxf_rangy_right_box" style="height: 224px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_xtyy" class="gxf_rangy_right" style="height: 193px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>国内外研究现状概述<span class="writerText margl"> 共输入<i style="color: #f00;">994</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_yjxz" tablemodelid="7" class="gxf_rangy_left"><p><span>GAN启发自博弈论中的二人零和博弈（two-player&nbsp;game），由Goodfellow&nbsp;Ian开创性地提出。在二人零和博弈中，两位博弈方的利益之和为零或一个常数，即一方有所得，另一方必有所失。GAN模型中的两位博弈方分别由生成式模型和判别式模型充当。生成模型G捕捉样本数据的分布，判别模型是一个二分类器，估计一个样本来自于训练数据（而非生成数据）的概率。G和D一般都是非线性映射函数，例如多层感知机、卷积神经网络等。有判别式模型，当输入训练数据x时，期待输出高概率（接近1）；生成模型是用来输入是一些服从某一简单分布（例如高斯分布）的随机噪声z，输出是与训练图像相同尺寸的生成图像。向判别模型D输入生成样本，对于D来说期望输出低概率（判断为生成样本），对于生成模型G来说要尽量欺骗D，使判别模型输出高概率（误判为真实样本），从而形成竞争与对抗。</span></p><p><span>上面分析提出，与其他生成式模型相比，GAN这种竞争的方式不再要求一个假设的数据分布，即不需要formulate&nbsp;p(x)，而是使用一种分布直接进行采样sampling，从而真正达到理论上可以完全逼近真实数据，这也是GAN最大的优势。然而，这种不需要预先建模的方法缺点是太过自由了，对于较大的图片，较多的&nbsp;pixel的情形，基于简单&nbsp;GAN&nbsp;的方式就不太可控了。为了解决GAN太过自由这个问题，一个很自然的想法是给GAN加一些约束，于是便有了Conditional&nbsp;Generative&nbsp;Adversarial&nbsp;Nets。这项工作提出了一种带条件约束的GAN，在生成模型（D）和判别模型（G）的建模中均引入条件变量y，使用额外信息y对模型增加条件，可以指导数据生成过程。这些条件变量y可以基于多种信息，例如类别标签，用于图像修复的部分数据，来自不同模态的数据。如果条件变量y是类别标签，可以看做CGAN&nbsp;是把纯无监督的&nbsp;GAN&nbsp;变成有监督的模型的一种改进。这个简单直接的改进被证明非常有效,并广泛用于后续的相关工作中。条件生成式对抗网络（CGAN）是对原始GAN的一个扩展，生成器和判别器都增加额外信息y为条件,&nbsp;y可以使任意信息,例如类别信息,或者其他模态的数据。通过将额外信息y输送给判别模型和生成模型,作为输入层的一部分,从而实现条件GAN。在生成模型中,先验输入噪声p(z)和条件信息y联合组成了联合隐层表征。对抗训练框架在隐层表征的组成方式方面相当地灵活。</span></p></div><div id="right_box_left_yjxz" class="gxf_rangy_right_box" style="height: 403px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_yjxz" class="gxf_rangy_right" style="height: 372px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>主要研究内容<span class="writerText margl"> 共输入<i style="color: #f00;">496</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_yjnr" tablemodelid="8" class="gxf_rangy_left"><p><span>1.文献资料阅读和评价</span></p><p><span>掌握文献检索的方法，通过查阅相关的资料和文献，了解现有的生成对抗网络的实现思路和方法，对生成对抗网络算法有相应的掌握。</span></p><p><span>对资料搜集和整理，筛选出毕设所需的算法实现方法，并通过研读其他相关资料对其进行改进。</span></p><p><span>2.现有系统、软件、算法等分析；</span></p><p><span>查阅现有的关于cGAN的各种论文和文献，对算法进行学习，实现出论文中的关于cGAN的论述方法。</span></p><p><span>3.相关技术和软件工具学习；</span></p><p><span>学习并使用开发工具进行算法的实现，学习生成对抗网络的实现方式，并动手将其复现。从不平衡数据集中学习对于标准分类算法来说是一项经常但具有挑战性的任务。尽管存在解决该问题的不同策略，但是与算法修改相比，为少数类生成人工数据的方法构成了更通用的方法。标准过采样方法是SMOTE算法的变体，它生成沿着连接少数类样本的线段的合成样本。因此，这些方法基于本地信息，而不是基于整体少数群体的分布。与这些算法相反，本课题将生成对抗网络的条件版本用于近似真实数据分布并为少数类别的各种不平衡数据集生成数据。</span></p><p><span>4.开发文档的整理；</span></p><p><span>编写毕设所需的开发文档，例如需求分析文档，概要设计和详细设计文档，用户说明文档，测试文档等一系列相关文档。&nbsp;</span></p><p><span></span></p></div><div id="right_box_left_yjnr" class="gxf_rangy_right_box" style="height: 314px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_yjnr" class="gxf_rangy_right" style="height: 283px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>拟采用的研究思路（方法、技术路线、可行性论证等）<span class="writerText margl"> 共输入<i style="color: #f00;">970</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_yjsl" tablemodelid="9" class="gxf_rangy_left"><p><span>&nbsp;如果鉴别器能够容易地识别来自发生器的实例，则相对于其辨别能力，发生器正在产生低质量数据。我们可以将GAN设置看作是生成器的训练环境，其中鉴别器在提供生成实例的质量的同时提供反馈，迫使生成器提高其性能。</span></p><p><span>从数据分布中采样x∈X值，并且从噪声分布中采样z∈Z值。训练过程包括通过应用SGD在D的k个优化步骤和G的一个优化步骤之间交替。因此，在训练期间，D被优化以正确分类训练数据和从G生成的样本，分别分配1和0。另一方面，发生器被优化以通过将标签1分配给从G生成的样本来混淆鉴别器。该对抗性游戏的唯一解决方案对应于G恢复数据分布，并且对于任何输入，D等于1/2，而cGAN是上述GAN框架的扩展。引入了一个附加空间Y，它代表了来自训练数据的外部信息。&nbsp;cGAN框架修改生成模型G，包括额外的空间Y。从数据分布中采样（x，y）∈X×Y值，从噪声分布中采样z∈Z值并对y∈Y值进行采样来自训练数据中的条件数据向量，由密度函数表示。&nbsp;cGAN的培训程序与GAN模型的培训相同。</span></p><p><span>cGAN框架在二进制类不平衡数据{（xi，yi）}&nbsp;ni&nbsp;=&nbsp;1上训练，其中（xi，yi）∈X×{0,1}，其中y&nbsp;=&nbsp;1对应于少数类。&nbsp;cGAN过程的外部信息由类变量y表示。如上所述，Z是维度dZ的噪声空间，而X和Y的维度分别定义为dX和dY。因此，发生器接收属于Z×Y空间的矢量作为输入，并输出属于输入空间X的矢量。另一方面，鉴别器接收属于X×Y空间的矢量作为输入。将其归类为真实的或由G生成的人工数据。在cGAN训练结束后，通过接收形式（z，y&nbsp;=&nbsp;1）∈Z×Y的输入向量，生成器可用于为少数类创建人工数据，其中z是来自噪声空间Z的样本。生成器可用于为少数类创建人工数据，其中z是来自噪声空间Z的样本。</span></p><p><span>上述过程的超参数是噪声空间的维度dZ，与G和D网络架构相关的超参数以及它们的训练选项。根据两个模型的网络体系结构受输入空间X的维数，输出空间Y和D是二元分类器的事实的约束。特别地，G的输入和输出层分别具有dZ&nbsp;+&nbsp;dY和dX个单位。此外，D的输入和输出层分别具有dX&nbsp;+&nbsp;dY和一个单位。对于二元分类问题，类y的维数dY等于1。因此，对G和D使用单个隐藏层，cGAN的非约束高参数是噪声空间的维度dZ和G和D的隐藏层的单位数。同样重要的是要注意优化问题的不同形式以及cGAN框架的损失函数的选择。</span></p></div><div id="right_box_left_yjsl" class="gxf_rangy_right_box" style="height: 403px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_yjsl" class="gxf_rangy_right" style="height: 372px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>研究工作安排及进度<span class="writerText margl"> 共输入<i style="color: #f00;">281</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_apjd" tablemodelid="10" class="gxf_rangy_left"><p><span>选题&nbsp;和导师商定选题事宜，对题目有大概的了解和分析&nbsp;第1周</span></p><p><span>开题&nbsp;毕业设计前期调研、文献资料查阅、分析等准备工作，完成毕业论文（设计）开题&nbsp;第2-3周&nbsp;</span></p><p><span>文献学习和翻译&nbsp;对相关的外文文献进行翻译和学习，了解关于GAN和cGAN的相关算法和实现技术&nbsp;第4-6周</span></p><p><span>实践阶段&nbsp;对所要进行研究的算法进行深入学习，用自己的方法将其复现，并针对性的提出可改进的部分，思考出自己的见解&nbsp;第7-12周</span></p><p><span>改进阶段&nbsp;通过和导师沟通，将成果与导师进行展示，询问建设性的意见，在自己的课题上加以改进&nbsp;第12-15周</span></p><p><span>完成论文&nbsp;按照导师的建议，开始毕业论文的编写与修改&nbsp;第16-20周（5-15）</span></p><p><span>毕业答辩&nbsp;准备毕业答辩&nbsp;第21周</span></p><p><span></span></p></div><div id="right_box_left_apjd" class="gxf_rangy_right_box" style="height: 179px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_apjd" class="gxf_rangy_right" style="height: 148px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>参考文献目录<span class="writerText margl"> 共输入<i style="color: #f00;">1940</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_wxml" tablemodelid="11" class="gxf_rangy_left"><p><span>Abadi,&nbsp;M.,&nbsp;Agarwal,&nbsp;A.,&nbsp;Barham,&nbsp;P.,&nbsp;Brevdo,&nbsp;E.,&nbsp;Chen,&nbsp;Z.,&nbsp;Citro,&nbsp;C.&nbsp;et&nbsp;al.&nbsp;(2015).&nbsp;Tensor-&nbsp;Flow:&nbsp;Large-scale&nbsp;machine&nbsp;learning&nbsp;on&nbsp;heterogeneous&nbsp;systems.&nbsp;Software&nbsp;avail-&nbsp;able&nbsp;from&nbsp;tensorflow.org.</span></p><p><span>Akbani,&nbsp;R.,&nbsp;Kwek,&nbsp;S.,&nbsp;&amp;&nbsp;Japkowicz,&nbsp;N.&nbsp;(2004).&nbsp;Applying&nbsp;support&nbsp;vector&nbsp;machine&nbsp;to&nbsp;imbalanced&nbsp;datasets.&nbsp;Machine&nbsp;Learning:&nbsp;ECML,&nbsp;2004,&nbsp;39–50.</span></p><p><span>Barua,&nbsp;S.,&nbsp;Islam,&nbsp;Md.&nbsp;M.,&nbsp;Yao,&nbsp;X.,&nbsp;&amp;&nbsp;Murase,&nbsp;K.&nbsp;(2014).&nbsp;MWMOTE&nbsp;-&nbsp;majority&nbsp;weighted&nbsp;minority&nbsp;oversampling&nbsp;technique&nbsp;for&nbsp;imbalanced&nbsp;data&nbsp;set&nbsp;learning.&nbsp;IEEE&nbsp;Trans-&nbsp;actions&nbsp;on&nbsp;Knowledge&nbsp;and&nbsp;Data&nbsp;Engineering,&nbsp;26(2),&nbsp;405–425.</span></p><p><span>Batista,&nbsp;G.,&nbsp;Prati,&nbsp;R.,&nbsp;&amp;&nbsp;Monard,&nbsp;M.&nbsp;(2004).&nbsp;A&nbsp;Study&nbsp;of&nbsp;the&nbsp;Behavior&nbsp;of&nbsp;Several&nbsp;Meth-&nbsp;ods&nbsp;for&nbsp;Balancing&nbsp;Machine&nbsp;Learning&nbsp;Training&nbsp;Data.&nbsp;ACM&nbsp;SIGKDD&nbsp;Explorations&nbsp;Newsletter&nbsp;-&nbsp;Special&nbsp;issue&nbsp;on&nbsp;learning&nbsp;from&nbsp;imbalanced&nbsp;datasets,&nbsp;6,&nbsp;20–29.</span></p><p><span>Bunkhumpornpat,&nbsp;C.,&nbsp;Sinapiromsaran,&nbsp;K.,&nbsp;&amp;&nbsp;Lursinsap,&nbsp;C.&nbsp;(2009).&nbsp;Safe-Level-S-&nbsp;MOTE:&nbsp;Safe-level-synthetic&nbsp;minority&nbsp;over-sampling&nbsp;technique&nbsp;for&nbsp;handling&nbsp;the&nbsp;class&nbsp;imbalanced&nbsp;problem.&nbsp;In&nbsp;Lecture&nbsp;notes&nbsp;in&nbsp;computer&nbsp;science&nbsp;(including&nbsp;sub-&nbsp;series&nbsp;lecture&nbsp;notes&nbsp;in&nbsp;artificial&nbsp;intelligence&nbsp;and&nbsp;lecture&nbsp;notes&nbsp;in&nbsp;bioinformatics)&nbsp;(pp.&nbsp;475–482).</span></p><p><span>Bunkhumpornpat,&nbsp;C.,&nbsp;Sinapiromsaran,&nbsp;K.,&nbsp;&amp;&nbsp;Lursinsap,&nbsp;C.&nbsp;(2012).&nbsp;DBSMOTE:&nbsp;Densi-&nbsp;ty-based&nbsp;synthetic&nbsp;minority&nbsp;over-sampling&nbsp;technique.&nbsp;Applied&nbsp;Intelligence,&nbsp;36(3),&nbsp;664–684.</span></p><p><span>Chawla,&nbsp;N.&nbsp;V.,&nbsp;Bowyer,&nbsp;K.&nbsp;W.,&nbsp;Hall,&nbsp;L.&nbsp;O.,&nbsp;&amp;&nbsp;Kegelmeyer,&nbsp;W.&nbsp;P.&nbsp;(2002).&nbsp;SMOTE:&nbsp;Syn-&nbsp;thetic&nbsp;minority&nbsp;over-sampling&nbsp;technique.&nbsp;Journal&nbsp;of&nbsp;Artificial&nbsp;Intelligence&nbsp;Research,&nbsp;16,&nbsp;321–357.</span></p><p><span>Chawla,&nbsp;N.&nbsp;V.,&nbsp;Japkowicz,&nbsp;N.,&nbsp;&amp;&nbsp;Kolcz,&nbsp;A.&nbsp;(2003).&nbsp;Workshop&nbsp;learning&nbsp;from&nbsp;imbalanced&nbsp;data&nbsp;sets&nbsp;II.&nbsp;In&nbsp;Proceedings&nbsp;of&nbsp;international&nbsp;conference&nbsp;on&nbsp;machine&nbsp;learning.</span></p><p><span>Chawla,&nbsp;N.&nbsp;V.&nbsp;(2005).&nbsp;Data&nbsp;mining&nbsp;for&nbsp;imbalanced&nbsp;data&nbsp;sets:&nbsp;an&nbsp;overview.&nbsp;In&nbsp;Data&nbsp;mining&nbsp;and&nbsp;knowledge&nbsp;discovery&nbsp;handbook.&nbsp;(pp.&nbsp;875–886).&nbsp;Springer.</span></p><p><span>Chawla,&nbsp;N.&nbsp;V.,&nbsp;Lazarevic,&nbsp;A.,&nbsp;Hall,&nbsp;L.&nbsp;O.,&nbsp;&amp;&nbsp;Bowyer,&nbsp;K.&nbsp;W.&nbsp;(2003).&nbsp;SMOTEBoost:&nbsp;Im-&nbsp;proving&nbsp;prediction&nbsp;of&nbsp;the&nbsp;minority&nbsp;class&nbsp;in&nbsp;boosting.&nbsp;In&nbsp;Proceedings&nbsp;of&nbsp;seventh&nbsp;European&nbsp;conference&nbsp;principles&nbsp;and&nbsp;practice&nbsp;of&nbsp;knowledge&nbsp;discovery&nbsp;in&nbsp;databases&nbsp;(pp.&nbsp;107–119).</span></p><p><span>Cieslak,&nbsp;D.&nbsp;A.,&nbsp;&amp;&nbsp;Chawla,&nbsp;N.&nbsp;V.&nbsp;(2008).&nbsp;Start&nbsp;globally,&nbsp;optimize&nbsp;locally,&nbsp;predict&nbsp;glob-&nbsp;ally:&nbsp;Improving&nbsp;performance&nbsp;on&nbsp;imbalanced&nbsp;data.&nbsp;In&nbsp;Proceedings&nbsp;-&nbsp;IEEE&nbsp;interna-&nbsp;tional&nbsp;conference&nbsp;on&nbsp;data&nbsp;mining,&nbsp;ICDM&nbsp;(pp.&nbsp;143–152).</span></p><p><span></span></p></div><div id="right_box_left_wxml" class="gxf_rangy_right_box" style="height: 538px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_wxml" class="gxf_rangy_right" style="height: 507px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>开题报告会议时间<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl">请按照“××××年××月××日”格式填写</span></p><div class="gxf_designTable_rangy clearfix"><div id="left_hysj" tablemodelid="82" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_hysj" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_hysj" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>开题报告会议地点<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_hydd" tablemodelid="83" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_hydd" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_hydd" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p>开题报告会议主持人<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_hyzcr" tablemodelid="84" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_hyzcr" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_hyzcr" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li><li><p style="margin-left: 5px;">开题报告会议参会教师<span class="statement margl"></span></p></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师1姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_yxm" tablemodelid="86" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_yxm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_yxm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师1职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_yzc" tablemodelid="87" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_yzc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_yzc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师2姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_exm" tablemodelid="88" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_exm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_exm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师2职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_wzc" tablemodelid="89" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_wzc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_wzc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师3姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_sxm" tablemodelid="90" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_sxm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_sxm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师3职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_szc" tablemodelid="91" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_szc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_szc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师4姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_ssxm" tablemodelid="92" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_ssxm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_ssxm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师4职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_sszc" tablemodelid="93" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_sszc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_sszc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师5姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_wxm" tablemodelid="94" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_wxm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_wxm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师5职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_wwzc" tablemodelid="95" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_wwzc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_wwzc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师6姓名<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_lxm" tablemodelid="96" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_lxm" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_lxm" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><div class="gxf_designTable_secondTitle"><h3 class="gxf_designTable_secondTitle_Title"><i> </i>教师6职务（职称）<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></h3><div class="gxf_designTable_rangy clearfix"><div id="left_lzc" tablemodelid="97" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_lzc" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_lzc" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></div></li><li><p>会议记录摘要<span class="writerText margl"> 共输入<i style="color: #f00;">0</i>字符</span><span class="statement margl"></span></p><div class="gxf_designTable_rangy clearfix"><div id="left_hyjl" tablemodelid="98" class="gxf_rangy_left" style="height: 115px;"><p><span></span></p></div><div id="right_box_left_hyjl" class="gxf_rangy_right_box" style="height: 99px;"><p class="gxf_rangy_right_top">支持左侧选择文字批注，也支持★<a class="listA rangy_all" href="javascript:;">整体批注</a></p><ul id="right_left_hyjl" class="gxf_rangy_right" style="height: 68px;"><li class="gxf_rangy_noContent"><h3>暂无批注内容</h3></li></ul></div></div></li></ul>
                    <ul class="gxf_designTable_box">
                        <li id="fujian" style="">
                            <p>附件<span id="fujian-test" class="margl" style="font-size: 12px;"> </span></p>
                            <div id="accessory" class="gxf_designTable_detailes">附件：<span id="accessorySpan">王启帆开题报告.docx</span><a class="listA margl" href="http://reportdownload.cnki.net/cofiledownload/DownLoadFile.aspx?downType=5&amp;user=2015141463170&amp;userServerID=0&amp;fileID=3377&amp;universityNum=2647&amp;isHistory=0&amp;check=9967ff716d773c73b5e55a728c914b32" download="王启帆开题报告.docx">点击下载</a></div>
                        </li>
                        <li><input id="update" class="formBtn margt" type="button" value="修改" style="display:none;"></li>
                    </ul>
                </div>
            </div>

            <div class="gxf_problem gxf_problem_reader" id="CheckDetail">
                <div><h2><span></span>审核情况</h2></div>
                <div id="designTableCheckBox"><div class="gxf_designTable_check">指导教师审核情况</div><div class="gxf_designTable_content"><ul class="gxf_designTable_box"><li class="gxf_designTable_roleTime"><span>审核人：段磊</span><span class="margl">审核时间：2019-06-03 10:32:30</span></li><li class="_checkState_"><p>审核状态</p><input type="hidden" class="hdOpeKeyId" value="14328" projectid="6134" roletype="3" checkstate="1"><input type="hidden" class="showAttachment" value="true" filename="" filelink=""><input type="hidden" class="designTableModel" value="前期工作如期按计划进行，同意该生开题" aesdesigntableinfo="BMUN8p9ObvNy5qCLv1T9xUi6fsWFqKL3cqaWsXIuuu1RXQaEzYSctPyZtWY4mgfADMDmUpDHmyHKZ/7lw6p7TY9P5yegesiQ5I9slHY7fcuxGX9tw38CeohKvsGM6a8D+tD7RSXMkBDM2TTYfpBPujPIexBKFbs1czcpcGdF/75Fm/gQS3I0ZcWxTZkPHmNGrDyKLAyYkPRep8qymFud5g=="><div class="gxf_designTable_detailes"><span class="txt_green">审核通过</span></div></li><li><p>审核意见</p><div class="gxf_designTable_detailes">前期工作如期按计划进行，同意该生开题</div></li></ul></div></div>
            </div>
        </div>
        <!-- 提交 -->
        <div id="addOpenReport" style="display:none;">
            <div class=" gxf_problem gxf_problem_title">
                <div><h2><span></span>添加内容</h2></div>
                <div class="gxf_designTable_content">
                    <ul class="gxf_designTable_box" id="isShow" style="display:none;">
                        <li>
                            <p>课题研究的目的和意义<span class="writerText margl"> 共输入<i style="color: #f00;"> 0 </i>字符</span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <input id="mudi2" type="text" class="easyui-textbox textbox-f" data-options="multiline:true,height:100" style="width: 100%; display: none;"><span class="textbox easyui-fluid" style="width: 0px; height: 98px;"><textarea id="_easyui_textbox_input1" class="textbox-text validatebox-text textbox-prompt" autocomplete="off" tabindex="" placeholder="" style="margin: 0px; height: 90px; width: 0px;"></textarea><input type="hidden" class="textbox-value" value=""></span>
                        </li>
                        <li>
                            <p>课题研究方案和主要内容<span class="writerText margl"> 共输入<i style="color: #f00;"> 0 </i>字符</span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <input id="fangan2" type="text" class="easyui-textbox textbox-f" data-options="multiline:true,height:100" style="width: 100%; display: none;"><span class="textbox easyui-fluid" style="width: 0px; height: 98px;"><textarea id="_easyui_textbox_input2" class="textbox-text validatebox-text textbox-prompt" autocomplete="off" tabindex="" placeholder="" style="margin: 0px; height: 90px; width: 0px;"></textarea><input type="hidden" class="textbox-value" value=""></span>
                        </li>
                        <li>
                            <p>研究方法及技术途径<span class="writerText margl"> 共输入<i style="color: #f00;"> 0 </i>字符</span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <input id="fangfa2" type="text" class="easyui-textbox textbox-f" data-options="multiline:true,height:100" style="width: 100%; display: none;"><span class="textbox easyui-fluid" style="width: 0px; height: 98px;"><textarea id="_easyui_textbox_input3" class="textbox-text validatebox-text textbox-prompt" autocomplete="off" tabindex="" placeholder="" style="margin: 0px; height: 90px; width: 0px;"></textarea><input type="hidden" class="textbox-value" value=""></span>
                        </li>
                        <li>
                            <p>实施计划<span class="writerText margl"> 共输入<i style="color: #f00;"> 0 </i>字符</span><span class="statement margl">请按照学校的要求，在下方输入相关内容，若无内容请填写“无”</span></p>
                            <input id="jihua2" type="text" class="easyui-textbox textbox-f" data-options="multiline:true,height:100" style="width: 100%; display: none;"><span class="textbox easyui-fluid" style="width: 0px; height: 98px;"><textarea id="_easyui_textbox_input4" class="textbox-text validatebox-text textbox-prompt" autocomplete="off" tabindex="" placeholder="" style="margin: 0px; height: 90px; width: 0px;"></textarea><input type="hidden" class="textbox-value" value=""></span>
                        </li>
                    </ul>
                    <!-- 有自定义时显示 -->
                    <ul class="gxf_designTable_box" id="isShowDesignTable" style="display:none"></ul>
                    <ul class="gxf_designTable_box margt">
                        <li id="fujian2" style="display:none;">
                            <p>添加附件：<span class="statement" id="scfj">上传有关开题报告的附件，上传的文件将以附件的形式显示。支持附件格式为doc，docx，pdf，wps，rar，zip</span></p>
                            <input type="text" id="txtFileName" class="easyui-textbox textbox-f" data-options="width:285,readonly:true" style="display: none;"><span class="textbox textbox-readonly" style="width: 283px;"><input id="_easyui_textbox_input5" type="text" class="textbox-text validatebox-text validatebox-readonly textbox-prompt" autocomplete="off" tabindex="" readonly="readonly" placeholder="" style="margin: 0px; padding-top: 0px; padding-bottom: 0px; height: 25px; line-height: 25px; width: 276px;"><input type="hidden" class="textbox-value" value=""></span>
                            <span id="webUploaderPick" class="webuploader-container"><div class="webuploader-pick">浏览</div><div id="rt_rt_1dfs5jvl557o1kru17di1ofv1ma72" style="position: absolute; top: 0px; left: 0px; width: 20px; height: 4px; overflow: hidden; bottom: auto; right: auto;"><input type="file" capture="camera" name="file" class="webuploader-element-invisible" accept=".doc,.docx,.pdf,.wps,.rar,.zip"><label style="opacity: 0; width: 100%; height: 100%; display: block; cursor: pointer; background: rgb(255, 255, 255);"></label></div></span>
                            <div id="divFileProgressContainer"></div>
                        </li>
                        <li class="margt" id="submitShow" style="display:none;">
                            <input id="submit" class="formBtn" type="button" value="提交">
                            <input id="saveDrafts" class="formBtn margl" type="button" value="存草稿" style="display: none;">
                            <input id="cancel" class="clearBtn margl" onclick="Refresh();" type="button" value="取消">
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script type="text/javascript">
        var xybh = "";
        var zybh = "";
        // 获取角色
        var role = get_current_role();
        var ktbh = getUrlParam("id");
        var sid = getUrlParam("sid");
        var isHistory = getUrlParam("isHistory");
        var submitid = getUrlParam("submitid");
        var AttachmentNum = 0; // 是否删除附件
        var DesignTableData;  // 自定义
        var detailsData; // 详细信息
        var webUploader; //上传实例
        $(function () {
            getTimeTips();  // 时间限制提示
            var obj = getProjectInformation(ktbh, 'task');// 获取课题基本信息
            xybh = obj["xybh"];
            zybh = obj["zybh"];
            if (obj["isTrue"]) {
                $("#choiceDiv").show();//有课题是显示
                DesignTableData = isSetDesignTable(12, xybh, zybh);
                DesignTableData.done(function (data) {
                    if (data.isSuccess) {
                        detailsData = getDetail(data.rows); // 获取详情
                    } else {
                        detailsData = getDetail(); // 获取详情
                    };
                }).fail(function (err) {
                    console.log(err);
                });
            } else {
                $("#choiceDiv").remove();
                $("#nochoiceDiv").show(); //无课题时提示
            }

            //创建上传实例
            webUploader = createWebuploader({
                server: "../Handler/OpenReport.ashx",
                successCallback: function (data) {
                    Refresh();
                }
            });
        });

        var noDesignTableArr = [
            { 'ID': 0, '列名': "mudi", "中文列名": "目的","标题类型": 0, "类型": 0, "题目": "课题研究的目的和意义", "rangyType": 4, "注释": "", "是否显示附件": 1 },
            { 'ID': 0, '列名': "fangan", "中文列名": "方案", "标题类型": 0, "类型": 0, "题目": "课题研究方案和主要内容", "rangyType": 5, "注释": "", "是否显示附件": 1 },
            { 'ID': 0, '列名': "fangfa", "中文列名": "方法", "标题类型": 0, "类型": 0, "题目": "研究方法及技术途径", "rangyType": 6, "注释": "", "是否显示附件": 1 },
            { 'ID': 0, '列名': "jihua", "中文列名": "计划", "标题类型": 0, "类型": 0, "题目": "实施计划", "rangyType": 7, "注释": "", "是否显示附件": 1 }
        ];


        // 获取详情
        function getDetail(designTable) {
            var xhr = $.ajax({
                url: "../Handler/OpenReport.ashx",
                data: {
                    "action": "GetDetail",
                    "opeType": 1,
                    "zybh": zybh,
                    "xybh": xybh,
                    "sid": sid,
                    "projectId": ktbh,
                    "id": submitid,
                    "isHistory": isHistory
                },
                dataType: "json",
                type: "POST",
                success: function (data) {
                    if (data.isSuccess && data.rows && data.rows.length > 0) {   // 已提交，展示详情
                        if (data.rows[0]["是否草稿"] == 1) {   // 草稿
                            $("#openReportDetail").hide();
                            $("#addOpenReport").show();
                            if (designTable) { // 有自定义
                                $("#isShowDesignTable").show();
                                SetValueDesignTable(designTable, data.rows[0], 'isShowDesignTable');
                                if (designTable[0]['是否显示附件'] == 1) {
                                    getAccessory(ktbh, sid, 1);
                                    $("#fujian2").show();
                                    webUploader.refresh();
                                };
                            } else {
                                getAccessory(ktbh, sid, 1);
                                $("#mudi2").textbox("setText", retrieveUnequa(data.rows[0]["目的"]));
                                $("#fangfa2").textbox("setText", retrieveUnequa(data.rows[0]["方法"]));
                                $("#fangan2").textbox("setText", retrieveUnequa(data.rows[0]["方案"]));
                                $("#jihua2").textbox("setText", retrieveUnequa(data.rows[0]["计划"]));
                                //字数
                                $("#mudi2").prev().find(".writerText>i").html(" " + $("#mudi2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                                $("#fangfa2").prev().find(".writerText>i").html(" " + $("#fangfa2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                                $("#fangan2").prev().find(".writerText>i").html(" " + $("#fangan2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                                $("#jihua2").prev().find(".writerText>i").html(" " + $("#jihua2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                                // 显示
                                $("#isShow,#fujian2").show();
                                $.parser.parse("#addOpenReport");       // 重新渲染页面
                                webUploader.refresh();
                            }
                            $("#submitShow,#saveDrafts").show();

                        } else { // 非草稿
                            submitid = data.rows[0]["文件ID"];// 文件ID
                            getCheckDetail();// 审核状态
                            if (isHistory == "1") {// 获取附件
                                getAttachmenthisory(1, ktbh, sid, submitid, isHistory);
                            } else {
                                getAttachmenthisory(1, ktbh, sid, submitid);
                            };

                            $("#zxtjsj").html(data.rows[0]["创建时间"]); //创建时间
                            //历史纪录
                            if (isHistory != "1") {
                                openstuhistoryfile(1, ktbh, sid);
                                $("#historyDiv").show();
                            };

                            $("#addOpenReport").hide();
                            $("#openReportDetail").show();
                            var data = data.rows[0];
                            if (designTable) { // 有自定义
                                //$("#noDesignTable").remove();
                                //$("#DesignTable").show();
                                GetDetailesDesignTableForRangy(designTable, data, 'DesignTable', 11);
                                if (!checkValIsUndefinedOrNull(data["检测状态"]) && data["检测状态"] != -1) {
                                    GetCheckResult(10, data["文件ID"], "", 0, "fujian-test");
                                };
                            } else {    // 没有自定义
                                //$("#noDesignTable").show();
                                //$("#DesignTable").show();
                                
                                GetDetailesNoDesignTableForRangy(noDesignTableArr, data, "DesignTable");

                                //$("#left_mudi").html("<p><span>" + ((data["目的"] == 'DesignTable') ? "" : (data["目的"].replace(/(\n\n\n)|(\n\n)|\n/g, '</span></p><p><span>').replace(/\s/g, '&nbsp;'))) + "</span></p>");
                                //$("#left_fangfa").html("<p><span>" + ((data["方法"] == 'DesignTable') ? "" : (data["方法"].replace(/(\n\n\n)|(\n\n)|\n/g, '</span></p><p><span>').replace(/\s/g, '&nbsp;'))) + "</span></p>");
                                //$("#left_fangan").html("<p><span>" + ((data["方案"] == 'DesignTable') ? "" : (data["方案"].replace(/(\n\n\n)|(\n\n)|\n/g, '</span></p><p><span>').replace(/\s/g, '&nbsp;'))) + "</span></p>");
                                //$("#left_jihua").html("<p><span>" + ((data["计划"] == 'DesignTable') ? "" : (data["计划"].replace(/(\n\n\n)|(\n\n)|\n/g, '</span></p><p><span>').replace(/\s/g, '&nbsp;'))) + "</span></p>");
                                // 非自定义划词
                                //if ($("#openReportDetail").css("display") == "block") {
                                    //RangyHelper.createNew('left_mudi', '', submitid, 4, '');
                                    //RangyHelper.createNew('left_fangan', '', submitid, 5, '');
                                    //RangyHelper.createNew('left_fangfa', '', submitid, 6, '');
                                    //RangyHelper.createNew('left_jihua', '', submitid, 7, '');
                                //};
                                // 获取没有自定义的检测结果
                                if (!checkValIsUndefinedOrNull(data["检测状态"]) && data["检测状态"] != -1) {
                                    //GetCheckResult(4, data["文件ID"], "", 0, "mudi-test");
                                    //GetCheckResult(5, data["文件ID"], "", 0, "fangan-test");
                                    //GetCheckResult(6, data["文件ID"], "", 0, "fangfa-test");
                                    //GetCheckResult(7, data["文件ID"], "", 0, "jihua-test");
                                    GetCheckResult(10, data["文件ID"], "", 0, "fujian-test");
                                }
                            }

                            // 是否显示修改按钮
                            if (role == 2) {
                                if (data["审核"] == -1 || checkValIsUndefinedOrNull(data["审核时间"])) {
                                    $("#update").show();
                                };
                                if (data["审核"] == 1 && data["允许修改"] == 1) {
                                    $("#update").show();
                                };
                                if (isHistory == "1") {
                                    $("#update").remove();
                                };
                            } else if (role == 3) {
                                if (checkValIsUndefinedOrNull(data["审核时间"])) {
                                    $("#update").show();
                                };
                            } else {
                                $("#update").remove();
                            }
                        }
                    } else {            // 未提交，显示输入框
                        $("#openReportDetail").remove();
                        $("#historyDiv").remove();
                        if (role == 2) {
                            $("#addOpenReport,#saveDrafts").show();
                            $("#cancel").hide();
                        } else {
                            $("#addOpenReport").remove();
                        };
                        if (designTable) { // 有自定义
                            $("#isShow").remove();
                            $("#isShowDesignTable").show();
                            SetDesignTable(designTable, 'isShowDesignTable')
                            if (designTable[0]['是否显示附件'] == 1) {
                                $("#fujian2").show();
                                webUploader.refresh();
                            };
                        } else {    // 没有自定义
                            $("#isShow,#fujian2").show();
                            $("#isShowDesignTable").remove();
                            showWriteTextNumber.createNew("addOpenReport", "mudi2");
                            showWriteTextNumber.createNew("addOpenReport", "fangan2");
                            showWriteTextNumber.createNew("addOpenReport", "fangfa2");
                            showWriteTextNumber.createNew("addOpenReport", "jihua2");
                            webUploader.refresh();
                        };
                        $("#submitShow").show();
                        $.parser.parse('#addOpenReport');       // 重新渲染页面
                    }
                },
                error: function (err) {
                    console.log(err);
                }
            });
            return xhr;
        };

        // 修改
        $("#update").off('click').on("click", function () {
            $("#openReportDetail").remove();
            DesignTableData.done(function (data) {
                detailsData.done(function (details) {
                    if (details.isSuccess) {
                        $("#addOpenReport").show();
                        if (data.isSuccess) {
                            $("#isShowDesignTable").show();
                            SetValueDesignTable(data.rows, details.rows[0], 'isShowDesignTable');
                            if (data.rows[0]['是否显示附件'] == 1) {
                                getAccessory(ktbh, sid, 1);
                                $("#fujian2").show();
                                webUploader.refresh();
                            };
                        } else {
                            getAccessory(ktbh, sid, 1);
                            $("#mudi2").textbox("setText", retrieveUnequa(details.rows[0]["目的"]));
                            $("#fangfa2").textbox("setText", retrieveUnequa(details.rows[0]["方法"]));
                            $("#fangan2").textbox("setText", retrieveUnequa(details.rows[0]["方案"]));
                            $("#jihua2").textbox("setText", retrieveUnequa(details.rows[0]["计划"]));
                            //字数
                            $("#mudi2").prev().find(".writerText>i").html(" " + $("#mudi2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                            $("#fangfa2").prev().find(".writerText>i").html(" " + $("#fangfa2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                            $("#fangan2").prev().find(".writerText>i").html(" " + $("#fangan2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                            $("#jihua2").prev().find(".writerText>i").html(" " + $("#jihua2").textbox("getText").replace(/\s|\r|\n/g, "").length + " ");
                            // 显示
                            $("#isShow,#fujian2").show();
                            $.parser.parse("#addOpenReport");       // 重新渲染页面
                            webUploader.refresh();

                            showWriteTextNumber.createNew("addOpenReport", "mudi2");
                            showWriteTextNumber.createNew("addOpenReport", "fangan2");
                            showWriteTextNumber.createNew("addOpenReport", "fangfa2");
                            showWriteTextNumber.createNew("addOpenReport", "jihua2");
                        }
                        $("#submitShow").show();
                        if (details.rows[0]["是否草稿"] == 1) {
                            $("#saveDrafts").show();
                        } else {
                            $("#saveDrafts").hide();
                        }
                    } else {
                        myMessage(details.message);
                    }
                });
            });
        });

        /// 方法：获取审核信息
        function getCheckDetail() {
            var options = {
                tableElement: $("#designTableCheckBox"),
                projectId: ktbh,
                queryUrl: "../Handler/OpenReport.ashx?action=GetOperationDetail",
                queryParams: {
                    "opeType": 1,
                    "sid": sid,
                    "projectId": ktbh,
                    "id": submitid,
                    "isHistory": isHistory
                },
                entrust: ((role == 10) ? "3" : getUrlParam("entrust")),
                submitUrl: "../Handler/OpenReport.ashx?action=CheckStudentReport",
                submitData: {
                    "sid": sid,
                    "keyId": submitid,
                    "opeType": 1
                }
            };
            co_audit.bind(options, function (data) {
                if (data && data.RoleType == 3) { //指导教师审核后
                    $("#update").hide();
                };
                if (isHistory == "1") {
                    $("#update").hide();
                };
            });
        };

        // 时间限制提示
        function getTimeTips() {
            $.ajax({
                url: "../Handler/OpenReport.ashx",
                data: {
                    "action": "IsSetStuTimeLimit",
                    "type": 1
                },
                dataType: "json",
                type: "POST",
                success: function (data) {
                    if (data.isSuccess) {
                        $("#timeLimit").show();
                        $("#timeText").html("您所在学校或者院系设置的开题报告提交时间为【 <span style='color:#f00;'>" + data.rows[0]["开始时间"] + "</span> 至 <span style='color:#f00;'> " + data.rows[0]["结束时间"] + "</span> 】，请在该时间范围内进行操作。");
                    } else {
                        $("#timeLimit").hide();
                    };
                },
                error: function (err) {
                    console.log(err);
                }
            });
        };

        // 提交开题报告
        $("#submit,#saveDrafts").on("click", function () {
            var this_Id = $(this).attr("id")
            var list = {
                'zybh': zybh,
                'xybh': xybh,
                'scfj': AttachmentNum // 是否删除附件
            };
            if (this_Id == "saveDrafts") {
                list["sfcg"] = 1;
            } else {
                list["sfcg"] = 0;
            }

            if (role == 3) { //教师
                list["submitid"] = submitid;
            };
            var fileName = $("#txtFileName").textbox("getValue");
            DesignTableData.done(function (data) {
                if (data.isSuccess) {
                    submitDesignTableValue(data.rows, list);
                    if (data.rows[0]['类型'] == -1) {
                        if (checkValIsUndefinedOrNull(fileName)) {
                            myMessage("附件不能为空！");
                            return;
                        }
                    }
                } else {
                    list["fangan"] = replaceUnequa($("#fangan2").textbox("getText"));
                    list["fangfa"] = replaceUnequa($("#fangfa2").textbox("getText"));
                    list["jihua"] = replaceUnequa($("#jihua2").textbox("getText"));
                    list["mudi"] = replaceUnequa($("#mudi2").textbox("getText"));
                    if ($.trim(list["mudi"]) == "") {
                        myMessage("课题研究的目的和意义不能为空！");
                        return;
                    }
                    if ($.trim(list["fangan"]) == "") {
                        myMessage("课题研究方案和主要内容不能为空！");
                        return;
                    }
                    if ($.trim(list["fangfa"]) == "") {
                        myMessage("研究方法及技术途径不能为空！");
                        return;
                    }
                    if ($.trim(list["jihua"]) == "") {
                        myMessage("实施计划不能为空！");
                        return;
                    }
                };
                //  提交
                if ($("#fujian2").css("display") == "none") {
                    fileName = "";
                };
                if (checkValIsUndefinedOrNull(fileName)) {
                    list["action"] = "AddStuReport";
                    //无附件
                    $.ajax({
                        url: "../Handler/OpenReport.ashx?r=" + new Date().getTime(),
                        data: list,
                        dataType: "json",
                        type: "POST",
                        success: function (data) {
                            if (data.isSuccess) {
                                myMessage(data.message, function () {
                                    Refresh();
                                });
                            } else {
                                myMessage(data.message);
                            }
                        },
                        complete: function () {
                            close_loading();
                        }
                    });
                } else {
                    list["action"] = "AddStuReportAttachment";
                    //有附件
                    list["ASPSESSID"] = getid();
                    list["fileCount"] = 1;
                    $.extend(webUploader.options.formData, list);
                    var fileId = $("#txtFileName").attr("fileId");
                    webUploader.upload(fileId);
                };
            });
        });

        //刷新
        function Refresh() {
            refreshTab("首页");
            window.location.reload(true);
        };

        // 附件( )
        function getAccessory(ktbh, sid, opeType) {
            $.ajax({
                url: "../Handler/OpenReport.ashx?",
                dataType: "json",
                type: "POST",
                data: {
                    action: 'GetAttachent',
                    projectId: ktbh,
                    sid: sid,
                    opeType: opeType
                },
                success: function (data) {
                    if (data.isSuccess == true) {
                        if (data.rows.length > 0) {
                            if (data.rows[0]["文件名"] !== "" && data.rows[0]["附件"] !== "") {
                                $("#scfj").html("已有开题报告的附件，<span style='color:#ff6632;'>" + data.rows[0]["文件名"] + "<a href='javascript:AttachmentClick( \"" + data.rows[0]["文件名"] + "\" );' class='listA margl'>删除 </a> </span>  支持附件格式为doc，docx，pdf，wps，rar，zip");
                            };
                        };
                    };
                },
                error: function (err) {
                    console.log(err);
                }
            });
        };

        //删除附件
        function AttachmentClick(data) {
            $('#delmessagebox').text("你确定要删除附件（ " + data + " ）吗？");
            $('#delmessagebox').dialog({
                title: '删除附件',
                buttons: [{ text: '确定', handler: function () { AttachmentNum = 1; $("#scfj").html("上传有关附件，支持附件格式为doc，docx，pdf，wps，rar，zip"); $("#delmessagebox").dialog("close"); } },
                { text: '取消', handler: function () { AttachmentNum = 0; $("#delmessagebox").dialog("close"); } }]
            }).dialog("open").window('center');
        };

    </script>


<div class="panel window panel-htop" style="display: none; width: 400px; left: 443px; top: 193px;"><div class="panel-header panel-header-noborder window-header" style="width: 392px;"><div class="panel-title">New Dialog</div><div class="panel-tool"><a href="javascript:;" class="panel-tool-close"></a></div></div><div id="delmessagebox" class="easyui-dialog panel-body panel-body-noborder window-body" style="text-align: center; padding: 10px; overflow-wrap: break-word; width: 378px; height: 143px;" data-options="closed:true,modal:true" title=""></div></div><div class="window-shadow" style="display: none; left: 443px; top: 193px; width: 400px; height: 200px;"></div><div class="window-mask" style="display:none"></div><div class="panel window panel-htop" style="display: none; width: 400px; left: 443px; top: 193px; z-index: 9005;"><div class="panel-header panel-header-noborder window-header" style="width: 392px;"><div class="panel-title">提示</div><div class="panel-tool"></div></div></div><div class="window-shadow" style="display: none; left: 443px; top: 193px; width: 400px; height: 200px; z-index: 9004;"></div><div class="window-mask" style="display: none; z-index: 9003; position: fixed;"></div><div class="panel window panel-htop" style="display: none; width: 400px; left: 443px; top: 193px; z-index: 9011;"><div class="panel-header panel-header-noborder window-header" style="width: 392px;"><div class="panel-title">提示</div><div class="panel-tool"></div></div></div><div class="window-shadow" style="display: none; left: 443px; top: 193px; width: 400px; height: 200px; z-index: 9010;"></div><div class="window-mask" style="display: none; z-index: 9009; position: fixed;"></div><div class="panel window panel-htop" style="display: none; width: 400px; left: 435px; top: 193px; z-index: 9152;"><div class="panel-header panel-header-noborder window-header" style="width: 392px;"><div class="panel-title">提示</div><div class="panel-tool"></div></div></div><div class="window-shadow" style="display: none; left: 435px; top: 193px; width: 400px; height: 200px; z-index: 9151;"></div><div class="window-mask" style="display: none; z-index: 9150; position: fixed;"></div><div style="width:0; height:0; overflow:hidden; "><div id="gxf_rangy_maxredBox" class="easyui-dialog" data-options="closed:true,modal:true,closable: false" style=" width:800px; height:470px; text-align:left; padding:5px 20px;"><div><input type="hidden" id="hdArticleRemarkId" value=""><input type="hidden" id="hdSelectedText" value=""><input type="hidden" id="hdSerializedSelection" value=""><p style="line-height: 30px;"><span>批注人：</span><span id="lblCreatorName">---</span><span class="margl">批注时间：</span><span id="lblDatetime"></span></p><p style="word-break: break-word;"><input id="txtRemark" type="text" class="easyui-textbox" data-options="multiline:true,height:160,width:760"></p><h3 style="margin: 10px 0;">选中批注的内容：</h3><p id="postilDetailContent"></p></div></div></div><div style="width:0; height:0; overflow:hidden; "><div id="gxf_rangy_delModelBox" class="easyui-dialog" data-options="closed:true,modal:true" style=" width:400px; height: 200px; text-align:center; padding:30px"></div></div></body></html>